<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | Scholar</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50" onload="checkAlerts()">
    <nav class="bg-white border-b p-4 flex justify-between items-center px-6">
        <span class="font-black text-[10px] uppercase tracking-widest text-slate-400">Student_Portal</span>
        <a href="index.html" class="text-[10px] font-bold text-red-500 uppercase">Logout</a>
    </nav>

    <main class="max-w-4xl mx-auto py-8 px-6">
        <div id="alert-bar" class="hidden bg-amber-500 text-white p-4 text-center font-bold text-[10px] uppercase rounded-2xl mb-8 animate-pulse shadow-lg shadow-amber-200"></div>

        <div class="bg-blue-600 rounded-[2.5rem] p-10 text-white shadow-2xl mb-8 relative">
            <h1 class="text-4xl font-black mb-6">Hello, Scholar.</h1>
            <div class="flex flex-wrap gap-4">
                <a href="code.html" class="bg-white text-blue-600 px-6 py-3 rounded-xl font-black text-[10px] uppercase shadow-md">Claim Rewards</a>
                <a href="labs.html" class="bg-blue-500 text-white px-6 py-3 rounded-xl font-black text-[10px] uppercase border border-white/20">Enter Labs</a>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-white p-8 rounded-3xl border border-slate-200 shadow-sm">
                <h3 class="font-bold text-lg mb-2">3n+1 Experiment</h3>
                <p class="text-slate-500 text-xs">Run the math simulation in Labs.</p>
            </div>
        </div>
    </main>

    <script>
        const SB_URL = "https://xkvozzzamcolofmedrto.supabase.co";
        const SB_KEY = "sb_publishable__8qGVSppJs2gRDGm_uvVUA_4JXH-icx";

        async function checkAlerts() {
            const res = await fetch(`${SB_URL}/rest/v1/announcements?select=content&order=id.desc&limit=1`, {
                headers: { "apikey": SB_KEY, "Authorization": `Bearer ${SB_KEY}` }
            });
            const data = await res.json();
            if(data.length > 0) {
                const bar = document.getElementById('alert-bar');
                bar.innerText = "ðŸš¨ LEPROF NOTICE: " + data[0].content;
                bar.classList.remove('hidden');
            }
        }
    </script>
</body>
</html>
